function toggleOptionsMenu(){var t=document.getElementById("slideshow-options-bar"),e=document.getElementById("slideshow-options-button");open?(t.style["max-height"]="0",e.style.bottom="10px",e.style.transition="bottom .48s",e.style.transitionDelay=".4s",e.style.backgroundImage="url('/static/svg/top.svg')",open=!1):(t.style["max-height"]="50vw",e.style.bottom="35vh",e.style.transition="bottom .4s",e.style.backgroundImage="url('/static/svg/bottom.svg')",open=!0)}function updateCurrent(){if(!(current_item>data_set.length||-1===current_item)){var t=data_set[current_item];console.log("Setting image url to "+t.img+", current_item="+current_item),$("#slideshow-image").attr("src",t.img),$("#slideshow-title").text(t.title),$("#slideshow-url").attr("value",t.url),-1!==prior_item&&$("#slideshow-prior-entriesbox a:nth-child("+(prior_item+1)+")").css({color:"#000","font-weight":"400"}),$("#slideshow-prior-entriesbox a:nth-child("+(current_item+1)+")").css({color:"#3B41B0","font-weight":"600"})}}function nextImage(){prior_item=current_item,++current_item>data_set.length&&(0!==data_set.length?current_item%=data_set.length:current_item=-1),updateCurrent()}function priorImage(){prior_item=current_item,--current_item<0&&(current_item=-1===prior_item?-1:data_set.length-1),updateCurrent()}function setCurrent(t){prior_item=current_item,current_item=t,updateCurrent()}function updateListing(){var t=$("#slideshow-prior-entriesbox");for(-1===current_item&&0!==links_added&&(current_item=0,updateCurrent());links_added!==data_set.length;){links_added++;var e=$("<a>"+links_added+"</a>");e.attr("onClick","setCurrent("+(links_added-1)+"); return false;"),e.appendTo(t)}console.log(JSON.stringify(data_set))}function retrieveData(t){console.log("Url: "+t);var e=/.*\.(png|jpg|jpeg|bmp|tiff|gif|jiff)$/;$.ajax(t+".json?limit=100",{success:function(t){for(var r=0;r<t.data.children.length;r++){console.log("Running "+r);var i=t.data.children[r].data,n={};n.img=i.url,n.title=i.title,n.url="https://www.reddit.com"+i.permalink,e.test(n.img)&&(data_set.push(n),updateListing())}},error:function(t){console.log(t)}})}function load_data(){for(var t=0;t<urls.length;t++)retrieveData(urls[t])}var open=!1,data_set=[],prior_item=-1,current_item=-1,links_added=0;$(document).ready(function(){load_data()});