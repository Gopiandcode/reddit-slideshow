function toggleOptionsMenu(){var t=document.getElementById("slideshow-options-bar"),e=document.getElementById("slideshow-options-button");open?(t.style["max-height"]="0",t.style["z-index"]="0",e.style.bottom="10px",e.style.transition="bottom .48s",e.style.transitionDelay=".4s",e.style.backgroundImage="url('/svg/top.svg')",open=!1):(t.style["max-height"]="50vw",t.style["z-index"]="1",e.style.bottom="35vh",e.style.transition="bottom .4s",e.style.backgroundImage="url('/svg/bottom.svg')",open=!0)}function updateCurrent(){if(!(current_item>data_set.length||-1===current_item)){var t=data_set[current_item];console.log(JSON.stringify(t)),$("#slideshow-image").attr("src",t.img),$("#slideshow-title").text(t.title),$("#slideshow-url").attr("value",t.url),-1!==prior_item&&$("#slideshow-prior-entriesbox a:nth-child("+(prior_item+1)+")").css({color:"#000","font-weight":"400"}),$("#slideshow-prior-entriesbox a:nth-child("+(current_item+1)+")").css({color:"#3d5ecc","font-weight":"600"})}}function toggleTitleVisibility(t){t.checked?$("#slideshow-title").css({"font-size":"1em"}):$("#slideshow-title").css({"font-size":"0"})}function setTimeValue(t){if(t){var e=Number(t);e<0||(delay_time=1e3*e,null!==interval_id&&(clearInterval(interval_id),interval_id=null,interval_id=setInterval(nextImage,delay_time)))}}function toggleAutoForward(t){t.checked?(null!==interval_id&&(clearInterval(interval_id),interval_id=null),interval_id=setInterval(nextImage,delay_time)):(clearInterval(interval_id),interval_id=null)}function nextImage(){prior_item=current_item,++current_item>=data_set.length&&(current_item=0!==data_set.length?0:-1),updateCurrent()}function priorImage(){prior_item=current_item,--current_item<0&&(current_item=-1===prior_item?-1:data_set.length-1),updateCurrent()}function setCurrent(t){prior_item=current_item,current_item=t,updateCurrent()}function updateListing(){var t=$("#slideshow-prior-entriesbox");for(-1===current_item&&0!==links_added&&(current_item=0,updateCurrent());links_added!==data_set.length;){links_added++;var e=$("<a>"+links_added+"</a>");e.attr("onClick","setCurrent("+(links_added-1)+"); return false;"),e.appendTo(t)}}function retrieveData(t){console.log("Url: "+t);var e=/.*\.(png|jpg|jpeg|bmp|tiff|gif|jiff|gifv|webm)$/,i=/(?:https?:\/\/)?(?:[a-zA-Z]\.)?imgur\.com\/(?:((?:[a-zA-Z]|(?:gallery)))\/)?([a-zA-Z0-9]*)/,n=/(?:https?:\/\/)?gfycat.com\/([a-zA-Z0-9]*)/;$.ajax(t+".json?limit=100",{success:function(t){return function(){for(var a=0;a<t.data.children.length;a++)(function(){var r=t.data.children[a].data,l={};if(l.img=r.url,l.title=r.title,l.url="https://www.reddit.com"+r.permalink,e.test(l.img))data_set.push(l),updateListing();else if(i.test(l.img)){var o=i.exec(l.img);o[1]?"a"===o[1]?function(){var t="https://api.imgur.com/3/album/"+o[2],e={Authorization:"Client-ID "+client_id};$.ajax(t,{headers:e,method:"GET",dataType:"json",success:function(t){for(var e=t.data.images,i=0;i<e.length;i++){var n=e[i].link,a={};a.img=n,a.title=l.title,a.url=l.url,data_set.push(a),updateListing()}}})}():"gallery"===o[1]&&function(){var t="https://api.imgur.com/3/gallery/"+o[2],e={Authorization:"Client-ID "+client_id};$.ajax(t,{headers:e,method:"GET",dataType:"json",success:function(t){for(var e=t.data.images,i=0;i<e.length;i++){var n=e[i].link,a={};a.img=n,a.title=l.title,a.url=l.url,data_set.push(a),updateListing()}}})}():function(){var t=o[2],e="https://api.imgur.com/3/image/"+t,i={Authorization:"Client-ID "+client_id};$.ajax(e,{headers:i,method:"GET",dataType:"json",success:function(t){var e=t.data.link;l.img=e,data_set.push(l),updateListing()}})}()}else if(n.test(l.img))(function(){client_id;var t="https://gfycat.com/cajax/get/"+n.exec(l.img)[1];$.ajax(t,{method:"GET",dataType:"json",success:function(t){var e=t.gfyItem.gifUrl;l.img=e,data_set.push(l),updateListing()}})})()})()}()},error:function(t,e,i){console.log("Got an error"),console.log(t),console.log(e),console.log(i)}})}function load_data(){for(var t=0;t<urls.length;t++)retrieveData(urls[t])}var open=!1,data_set=[],prior_item=-1,current_item=-1,links_added=0,interval_id=null,delay_time=5e3;$(document).ready(function(){load_data()});